model{
  
  for(i in 1:n){
    
    # likelihood
    N[i] ~ dlnorm(log(med), w_tau[i])
    
    # location-specific weighted precision
    w_tau[i] <- pow(theta,-2) * w_inv[i]
  }
  
  # priors
  med ~ dunif(0, 1e3)
  theta ~ dunif(0, 1)
  
  # scaled inverse weight
  w_inv <- pow(w,-1) / sum(pow(w,-1))
  
  # weighted average sigma
  sigma <- sum( sqrt( 1 / w_tau ) * sqrt(w_inv) ) / sum( sqrt(w_inv) )
}